@page "/"
@inject Blazored.LocalStorage.ILocalStorageService localStorage
@inject SchoolListService SchoolServices
@inject NavigationManager NavigationManager
@inject CommonLocalizationService LocalizationService
@inject IInvokeServices InvokeServices;
@inject ILogger<Login> Logger

<div class="container h-100  login-page">
    <div class="row align-items-center justify-content-center h-100">
        <div class="col-12 pb-2">
            <div>
                <img src="Images/ClasStars Wide.svg" alt="logo" class="img-fluid login-logo">
            </div>
            <div>
            </div>
        </div>
        <div class="col-xl-5 col-lg-7 col-md-8 col-sm-12 col-12">
            <div class="login-frm mt-2">
                <div class="frm-logo ">
                    <span>@LocalizationService.GetString("Resources.StringsResource", "WelcomeClasstar")</span>
                </div>
                <div class="frm-logo login-heading">
                    <span class="login-heading-title">@LocalizationService.GetString("Resources.StringsResource", "Pleaselogin")</span>
                    <p class="m-0 login-subtitle">@LocalizationService.GetString("Resources.StringsResource", "selectionmessage")</p>
                </div>

                @if (_isLoadingProviders)
                {
                    <p>Loading...</p>
                }
                else if (!string.IsNullOrEmpty(_loadError))
                {
                    <p class="text-danger">@_loadError</p>
                }
                else if (!ProviderButtons.Any())
                {
                    <p>No providers available.</p>
                }
                else
                {
                    <div class="login-provider-list">
                        @foreach (var item in PrimaryProviders)
                        {
                            <button @onclick="async () => await HandleLoginAsync(item.Name)" class="btn login-btn img-btn">
                                <img class="provider-logo" src="@item.ImageUrl" alt="@item.Name">
                                <span>Sign in with @item.Name</span>
                            </button>
                        }
                        @foreach (var item in OverflowProviders)
                        {
                            <div class="circle-icon">
                                <button @onclick="async () => await HandleLoginAsync(item.Name)" title="Sign in with @item.Name">
                                    <img class="provider-logo--small" src="@item.ImageUrl" alt="@item.Name">
                                </button>
                            </div>
                        }
                    </div>
                }

            </div>
            <div class="privacyLink">
                <a href="https://www.classtars.com/privacy-policy" target="_blank">@LocalizationService.GetString("Resources.StringsResource", "PrivacyLink")</a>
            </div>
        </div>
    </div>
</div>
